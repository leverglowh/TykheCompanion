{"version":3,"sources":["utils/general-utils.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["CARD_INPUT_REGEX","cardSort","card1","card2","name","tier","App","useState","invData","setInvData","editCat","setEditCat","editUid","setEditUid","inputCardValue","setInputCardValue","removeInfo","setRemoveInfo","errorLog","setErrorLog","showResult","setShowResult","useEffect","loadedInv","localStorage","getItem","JSON","parse","document","onkeyup","e","key","getElementById","style","setProperty","setItem","stringify","dataCheck","uid","uidString","length","includes","handleInputChange","target","value","handleInputKeyUp","click","addNewCard","persist","cat","dataset","parseCard","line","test","Number","temp_vals","split","map","word","trim","filter","w","slice","join","match","handleNewCardSubmit","inputString","replace","preventDefault","clear","window","location","reload","parsedCard","card","find","c","alert","sort","removeProperty","Object","keys","forEach","removeCard","tagName","toBeRemoved","parentElement","editCard","old","firstElementChild","innerHTML","className","title","data-cat","onClick","id","type","autoFocus","onChange","onKeyUp","placeholder","i","data-uid","htmlFor","accept","event","file","files","console","log","reader","FileReader","readAsText","onload","evt","removed_locks","result","built_inv","last_cat","lines","invalidCounter","tempLog","startsWith","push","current_cat","sortedInv","k","onerror","href","encodeURIComponent","download","display","Modal","show","backdrop","keyboard","Header","Body","Alert","variant","Footer","Button","l","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.39d5d1c8.chunk.js","sourcesContent":["import { ICard } from 'model/card.model';\n\nexport const CARD_INPUT_REGEX = /(^:[1-5]star128:\\W*-\\W*(.+)\\W*-\\W*[0-9]{4}$)|(^[1-5](s|star)?[\\s-]{1}(.+)[\\s-]{1}[0-9]{4}$)/;\n\nexport const cardSort = (card1:ICard, card2:ICard) => {\n  if (card1.name === card2.name) {\n    if (card1.tier > card2.tier) {\n      return -1;\n    } else if (card1.tier > card2.tier) {\n      return 1;\n    } else {\n      return 0;\n    }\n  } else {\n    if (card1.name < card2.name) {\n      return -1;\n    } else {\n      return 1\n    }\n  }\n};","import React, { Fragment, useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport { cardSort, CARD_INPUT_REGEX } from \"./utils/general-utils\";\nimport { ICard } from \"./model/card.model\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\n\nconst App = () => {\n  const [invData, setInvData] = useState<any>(null);\n  const [editCat, setEditCat] = useState(\"\");\n  const [editUid, setEditUid] = useState(0);\n  const [inputCardValue, setInputCardValue] = useState(\"\");\n  const [removeInfo, setRemoveInfo] = useState<{\n    cat: string;\n    tier: number;\n    name: string;\n    uid: number;\n  } | null>(null);\n  const [errorLog, setErrorLog] = useState<string[]>([]);\n  const [showResult, setShowResult] = useState(false);\n  useEffect(() => {\n    const loadedInv = localStorage.getItem(\"inv\");\n    if (loadedInv) {\n      setInvData(JSON.parse(loadedInv));\n    }\n  }, []);\n\n  useEffect(() => {\n    document.onkeyup = (e: any) => {\n      if (e.key === \"Escape\") {\n        setEditCat(\"\");\n        setInputCardValue(\"\");\n        document\n          .getElementById(editUid + \"\")\n          ?.style.setProperty(\"text-decoration\", \"none\");\n        setEditUid(0);\n      }\n    };\n  }, [editUid]);\n\n  useEffect(() => {\n    if (!invData) return;\n    localStorage.setItem(\"inv\", JSON.stringify(invData));\n  }, [invData]);\n\n  const dataCheck = (tier: number, name: string, uid: number) => {\n    const uidString = uid + \"\";\n    return !(\n      !tier ||\n      !name ||\n      !uid ||\n      tier > 5 ||\n      tier < 1 ||\n      name.length <= 0 ||\n      uidString.includes(\".\") ||\n      uidString.includes(\",\") ||\n      uidString.length !== 4 ||\n      uid < 1000\n    );\n  };\n\n  const handleInputChange = (e: any) => {\n    setInputCardValue(e.target.value);\n  };\n\n  const handleInputKeyUp = (e: any) => {\n    if (e.key === \"Enter\") {\n      document.getElementById(\"new-card-input-submit-button\")?.click();\n    }\n  };\n\n  const addNewCard = (e: any) => {\n    e.persist();\n    const cat = e.target?.dataset?.cat;\n    setEditCat(cat);\n    setInputCardValue(\"\");\n  };\n\n  const parseCard = (line: string) => {\n    let tier = 0;\n    let uid = 0;\n    let name = \"\";\n    if (line?.[0] === \":\") {\n      // copied from inv\n      if (!/^:[0-5]star128:/.test(line)) return null;\n\n      tier = Number(line[1]);\n      const temp_vals = [\n        ...line.split(\"-\").map((word: string) => word.trim()),\n      ].filter(w => w.length > 0); // remove empty words\n      uid = Number(temp_vals[temp_vals.length - 1]);\n      name = temp_vals.slice(1, temp_vals.length - 1).join(\" - \");\n    } else {\n      if (!/^[1-5][^0-9]+/.test(line)) return null;\n      let temp_vals = [];\n\n      temp_vals = [\n        ...line.split(\"-\").map((word: string) => word.trim()),\n      ].filter(w => w.length > 0);\n\n      const numberPattern = /\\d+/g;\n\n      tier = Number(temp_vals[0].match(numberPattern)?.[0]) || 0;\n      uid = Number(temp_vals[temp_vals.length - 1]);\n      name = temp_vals.slice(1, temp_vals.length - 1).join(\" - \");\n\n      if (!dataCheck(tier, name, uid)) {\n        // retry with space as split string\n        temp_vals = [\n          ...line.split(\" \").map((word: string) => word.trim()),\n        ].filter(w => w.length > 0);\n\n        tier = Number(line[0]);\n        uid = Number(temp_vals[temp_vals.length - 1]);\n        name = temp_vals.slice(1, temp_vals.length - 1).join(\" \");\n      }\n    }\n\n    // sanity check\n    if (!dataCheck(tier, name, uid)) {\n      return null;\n    }\n\n    return { tier, name, uid };\n  };\n\n  const handleNewCardSubmit = (e: any) => {\n    const inputString: string = (inputCardValue || \"\")\n      .replace(\":lock:\", \"\")\n      .trim();\n\n    if (inputString === \"JSON\") {\n      // secret command\n      document.getElementById(\"downloadJSON\")?.click();\n      setEditCat(\"\");\n      setEditUid(0);\n      setInputCardValue(\"\");\n      e.preventDefault();\n      return;\n    }\n\n    if (inputString === \"CLEAR\") {\n      // secret command\n      localStorage.clear();\n      window.location.reload();\n      return;\n    }\n\n    // Sanity check\n    if (!CARD_INPUT_REGEX.test(inputString)) {\n      alert(\"Non valid input, abort! abort!\");\n      return;\n    }\n\n    const parsedCard = parseCard(inputString);\n\n    if (!parsedCard) {\n      alert(\"Non valid input, abort! abort!\");\n      return;\n    }\n\n    if (editUid) {\n      // edit existing\n      const card = (invData[editCat] as ICard[]).find(c => c.uid === editUid);\n      // if (!card) BOH\n      if (parsedCard?.name !== card?.name) {\n        alert(\n          \"Attention: you input a different card name, the old card will be replaced.\"\n        );\n      }\n      setInvData({\n        ...invData,\n        [editCat]: [\n          ...invData[editCat].filter((c: ICard) => c.uid !== editUid),\n          { ...parsedCard },\n        ].sort(cardSort),\n      });\n\n      document\n        .getElementById(editUid + \"\")\n        ?.style.removeProperty(\"text-decoration\");\n    } else {\n      Object.keys(invData).forEach(cat => {\n        const isDuplicate = !!(invData[cat] as ICard[]).find(\n          c => c.uid === parsedCard?.uid\n        );\n        if (isDuplicate) {\n          alert(\"Duplicate UID, please check your data.\");\n          // eslint-disable-next-line no-throw-literal\n          throw \"Duplicate UID, please check your data.\";\n        }\n      });\n\n      setInvData({\n        ...invData,\n        [editCat]: [...invData[editCat], { ...parsedCard }].sort(cardSort),\n      });\n    }\n\n    setEditCat(\"\");\n    setEditUid(0);\n    setInputCardValue(\"\");\n    e.preventDefault();\n  };\n\n  const removeCard = (e: any) => {\n    e.persist();\n    if (e.target.tagName === \"B\") {\n      e.target.parentElement.click();\n      return;\n    }\n    const cat = e.target?.dataset?.cat;\n    const uid = Number(e.target?.dataset?.uid);\n    if (!cat || !uid) return;\n    const toBeRemoved = invData[cat].find((c: any) => c.uid === uid);\n    setRemoveInfo({ cat, ...toBeRemoved });\n  };\n\n  const confirmRemove = () => {\n    if (!removeInfo?.cat || !removeInfo?.uid) return;\n\n    setInvData({\n      ...invData,\n      [removeInfo.cat]: [\n        ...invData[removeInfo.cat].filter(\n          (c: ICard) => c.uid !== removeInfo.uid\n        ),\n      ],\n    });\n    setRemoveInfo(null);\n  };\n\n  const abortRemove = () => {\n    setRemoveInfo(null);\n  };\n\n  const editCard = (e: any) => {\n    e.persist();\n    if (e.target.tagName === \"B\") {\n      e.target.parentElement.click();\n      return;\n    }\n    const cat = e.target?.dataset?.cat;\n    const uid = Number(e.target?.dataset?.uid);\n    if (!cat || !uid) return;\n\n    const old = document.getElementById(uid + \"\");\n\n    old?.style.setProperty(\"text-decoration\", \"line-through\");\n    setEditCat(cat);\n    setEditUid(uid);\n    setInputCardValue(old?.firstElementChild?.innerHTML || \"\");\n  };\n\n  const handleInvInput = (event: any) => {\n    const file = event?.target?.files?.[0];\n    console.log(file);\n    if (file) {\n      var reader = new FileReader();\n      reader.readAsText(file, \"UTF-8\");\n      reader.onload = function (evt) {\n        // console.log(evt.target.result);\n        const removed_locks = (evt?.target?.result as string)?.replace(\n          \":lock:\",\n          \"\"\n        );\n\n        const built_inv: any = {};\n        let last_cat = \"\";\n        const lines = removed_locks.split(\"\\n\");\n        let invalidCounter = 0;\n        const tempLog: string[] = [];\n        lines.forEach(line => {\n          if (line.startsWith(\":\") || /^[0-9]/.test(line)) {\n            // starts with : or number -> is inv item line\n            const parsedCard = parseCard(line.trim());\n\n            if (!last_cat || !parsedCard) {\n              invalidCounter++;\n              tempLog.push(line);\n              return;\n            } else {\n              built_inv[last_cat].push({\n                ...parsedCard,\n              });\n            }\n          } else { // line doesn't start with \n            // cat or line break\n            if (line.length > 1) {\n              // is sub cat line\n              const current_cat = line.trim();\n              if (current_cat !== last_cat) {\n                // new cat\n                if (!built_inv[current_cat]) built_inv[current_cat] = [];\n              }\n              last_cat = current_cat;\n            }\n          }\n        });\n\n        // now inv should be complete\n        const sortedInv: any = {};\n        const keys = [...Object.keys(built_inv)].sort();\n        keys.forEach(k => {\n          if (built_inv[k].length === 0) {\n            delete built_inv[k];\n            tempLog.push(k);\n            return;\n          }\n          sortedInv[k] = built_inv[k].sort(cardSort);\n        });\n\n        localStorage.setItem(\"inv\", JSON.stringify(sortedInv));\n\n        if (invalidCounter > 0) {\n          setErrorLog(tempLog);\n          setShowResult(true);\n        } else {\n          window.location.reload();\n        }\n      };\n      reader.onerror = function (evt) {\n        alert(\"error\");\n      };\n    }\n  };\n\n  const closeImportResultModal = () => {\n    window.location.reload();\n  };\n  return (\n    <div className='main-container'>\n      {!invData ? (\n        <div className='file-input-container'>\n          <label htmlFor='initial-inv-input'>\n            Hi, please upload inventory text file.\n          </label>\n          <br />\n          <input\n            type='file'\n            name='initial-inv-input'\n            id='initial-inv-input'\n            accept='text/plain'\n            onChange={handleInvInput}\n          />\n        </div>\n      ) : (\n        Object.keys(invData).map(cat => {\n          return (\n            <div key={cat} className='cat'>\n              <div className='cat-header'>\n                <b>{cat}</b>\n                <span\n                  className='abs-right-button'\n                  title='Add a new card'\n                  data-cat={cat}\n                  onClick={addNewCard}\n                >\n                  +\n                </span>\n              </div>\n              <div className='cat-body'>\n                {editCat === cat && (\n                  <div id='new-card-form'>\n                    <div className='card-format'>\n                      ?\n                      <span className='card-format-info'>\n                        Copy from inv:\n                        <br />\n                        <b>:2star128: - Hawkeye (Kate Bishop) - 2333</b>\n                        <br />\n                        or manually insert\n                        <br />\n                        <b>2s Hawkeye (Kate Bishop) 2333</b>\n                      </span>\n                    </div>\n                    <input\n                      id='new-card-input-box'\n                      className='new-card-input-box'\n                      type='text'\n                      autoFocus\n                      value={inputCardValue}\n                      onChange={handleInputChange}\n                      onKeyUp={handleInputKeyUp}\n                      placeholder='2s Hawkeye (Kate Bishop) 2333'\n                    />\n                    <input\n                      type='button'\n                      id='new-card-input-submit-button'\n                      value='✓'\n                      onClick={handleNewCardSubmit}\n                    />\n                  </div>\n                )}\n                <div className='hide-overflow'>\n                  {(invData[cat] as ICard[]).map((card, i) => (\n                    <Fragment key={card.uid}>\n                      {invData[cat]?.[i - 1]?.name !== card.name && <hr />}\n                      <div\n                        className={\"card-line star\" + card.tier}\n                        id={card.uid + \"\"}\n                      >\n                        <span>{`${card.tier}s - ${card.name} - ${card.uid}`}</span>\n                        <span\n                          className='edit-card-button unselectable'\n                          data-cat={cat}\n                          data-uid={card.uid}\n                          onClick={editCard}\n                        >\n                          <b>&#9998;</b>\n                        </span>\n                        <span\n                          className='delete-card-button unselectable'\n                          data-cat={cat}\n                          data-uid={card.uid}\n                          onClick={removeCard}\n                        >\n                          <b>&times;</b>\n                        </span>\n                      </div>\n                    </Fragment>\n                  ))}\n                </div>\n              </div>\n            </div>\n          );\n        })\n      )}\n      <a\n        id='downloadJSON'\n        href={\n          \"data:text/json;charset=utf-8,\" +\n          encodeURIComponent(JSON.stringify(invData))\n        }\n        download='inv.json'\n        style={{ display: \"none\" }}\n      >\n        DOWNLOAD JSON\n      </a>\n      {removeInfo && (\n        <Modal show backdrop='static' keyboard={false}>\n          <Modal.Header>Are you sure?</Modal.Header>\n          <Modal.Body>\n            <Alert variant='danger'>\n              Are you sure you want to remove this card?\n              <br />\n              <b>{`${removeInfo.tier}s - ${removeInfo.name} - ${removeInfo.uid}`}</b>\n            </Alert>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant='secondary' onClick={abortRemove}>\n              Don't remove\n            </Button>\n            <Button variant='danger' onClick={confirmRemove}>\n              Yes, do it.\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      )}\n      {showResult && errorLog.length > 0 && (\n        <Modal show backdrop='static' keyboard={false}>\n          <Modal.Header>Error encountered</Modal.Header>\n          <Modal.Body>\n            <Alert variant='danger'>\n              {errorLog.length} error(s) encountered in these lines:\n            </Alert>\n            <div className='import-error-log-container'>\n              {errorLog.map((l, i) => (\n                <div><span className=\"error-log-index unselectable\">{i+1}&nbsp;</span>{l}</div>\n              ))}\n            </div>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant='secondary' onClick={closeImportResultModal}>\n              OK\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}